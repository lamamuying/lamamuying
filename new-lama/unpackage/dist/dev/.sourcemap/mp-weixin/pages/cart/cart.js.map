{"version":3,"sources":["webpack:///E:/晨儿/2.28/new-lama/main.js","webpack:///E:/晨儿/2.28/new-lama/pages/cart/cart.vue?1242","webpack:///E:/晨儿/2.28/new-lama/pages/cart/cart.vue?2880","webpack:///E:/晨儿/2.28/new-lama/pages/cart/cart.vue?7e69","webpack:///E:/晨儿/2.28/new-lama/pages/cart/cart.vue?3eb4","webpack:///E:/晨儿/2.28/new-lama/pages/cart/cart.vue","webpack:///E:/晨儿/2.28/new-lama/pages/cart/cart.vue?a570","webpack:///E:/晨儿/2.28/new-lama/pages/cart/cart.vue?dac4"],"names":["Page","App","userLoginInfo","cartGoods","data","isCheckAll","checkedCount","cart","selectGoods","totalamount","cntitems","cartGoodSelect","isdefault","onLoad","onShow","uni","getStorageSync","getCartGoods","totalCart","computed","beforeDestroy","setCartGoods","methods","cartData","goods","i","length","num","push","forEach","uid","id","setStorageSync","isChecked","goFirm","_selectGoods","showToast","title","icon","JSON","stringify","navigateTo","url","price","fmamount","allCheck","proItem","_checkTrue","_checkFalse","item","clickitemselected","minusitem","updatecntitems","updatetotalamt","plusitem","clickdel","showModal","content","success","res","confirm","cancel","amt","cnt","Math","round"],"mappings":"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;AACA,0BAA0B,2BAA2B;AACrD;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,gCAAgC,sBAAsB;AACtD;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA,kCAAkC,sCAAsC;AACxE;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,kCAAkC,8BAA8B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sCAAsC;AACxE;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,wBAAwB;AACpD,8BAA8B,uBAAuB;AACrD;AACA;AACA,8BAA8B,2BAA2B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,sCAAsC;AACpE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,oBAAoB,eAAe,wCAAwC,EAAE;AAC7E;AACA,oBAAoB;AACpB,WAAW;AACX;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA,SAAS,2BAA2B;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,iBAAiB;AACjB,WAAW;AACX,sBAAsB,eAAe,0BAA0B,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA,SAAS,wBAAwB;AACjC;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/cart/cart.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=704e540e&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\晨儿\\\\2.28\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('704e540e', component.options)\n    } else {\n      api.reload('704e540e', component.options)\n    }\n    module.hot.accept(\"./cart.vue?vue&type=template&id=704e540e&\", function () {\n      api.rerender('704e540e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"new-lama/pages/cart/cart.vue\"\nexport default component.exports","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=template&id=704e540e&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar userLoginInfo,\n\tcartGoods = [];\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisCheckAll: true,\n\t\t\tcheckedCount: 0,\n\t\t\t// 实际项目中 购物车数据可从本地缓存中获取或从服务端获取\n\t\t\tcart: [],\n\t\t\t// 订单商品 购物车里已选择的商品生成订单\n\t\t\tselectGoods: [],\n\t\t\t// 合计金额\n\t\t\ttotalamount: 0,\n\t\t\t// 购物车商品数量 用于空购物车背景\n\t\t\tcntitems: 0,\n\t\t\tcartGoodSelect: [],\n\t\t\tisdefault: true\n\t\t};\n\t},\n\tonLoad: function() {\n\n\t},\n\tonShow: function() {\n\t\tuserLoginInfo = this.userLoginInfo('../cart/cart', 2);\n\t\tcartGoods = uni.getStorageSync('cartGoods');\n\t\t// console.log(cartGoods);\n\n\t\t//this.saveCart();\n\t\tthis.getCartGoods();\n\t\tthis.totalCart();\n\t},\n\tcomputed: {},\n\t// 关闭购物车前 存入缓存\n\tbeforeDestroy: function() {\n\t\tif (userLoginInfo) {\n\t\t\tthis.setCartGoods();\n\t\t}\n\t},\n\tmethods: {\n\t\tsetCartGoods() {\n\t\t\tlet cartData = [];\n\t\t\tlet goods = [];\n\n\t\t\tfor (let i = 0; this.cart.length > i; i++) {\n\t\t\t\tif (this.cart[i].num > 0) {\n\t\t\t\t\tgoods.push(this.cart[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcartGoods.forEach(cart => {\n\t\t\t\tif (cart.uid == userLoginInfo.id) {\n\t\t\t\t\tcart.goods = goods;\n\t\t\t\t}\n\t\t\t\tcartData.push(cart);\n\t\t\t});\n\n\t\t\tuni.setStorageSync('cartGoods', cartData);\n\t\t\tthis.getCartGoods();\n\t\t},\n\t\tgetCartGoods() {\n\t\t\t// \t\t\t\tif (this.cart) {\n\t\t\t// \t\t\t\t\tthis.isdefault = true;\n\t\t\t// \t\t\t\t}\n\t\t\tfor (var i = 0; i < cartGoods.length; i++) {\n\t\t\t\tif (cartGoods[i].uid == userLoginInfo.id) {\n\t\t\t\t\tthis.cart = cartGoods[i].goods;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.cart.forEach((goods) => {\n\t\t\t\tgoods.isChecked = true;\n\t\t\t});\n\t\t\tthis.checkedCount = this.cart.length;\n\t\t},\n\t\tgoFirm() {\n\t\t\tthis._selectGoods();\n\t\t\tif (this.selectGoods.length == 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择购买商品',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.cartGoodSelect = JSON.stringify(this.selectGoods);\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../order/firm_order?selectGoods=' + this.cartGoodSelect\n\t\t\t})\n\n\t\t},\n\t\t// 统计选中金额\n\t\ttotalCart() {\n\t\t\tthis.totalamount = 0;\n\t\t\tfor (let i = 0; i < this.cart.length; i++) {\n\t\t\t\tif (this.cart[i].isChecked) {\n\t\t\t\t\tthis.totalamount = this.totalamount + this.cart[i].price * this.cart[i].num;\n\t\t\t\t\t// 总数量\n\t\t\t\t\tthis.cntitems = this.cntitems + this.cart[i].num;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.totalamount = this.fmamount(this.totalamount);\n\t\t},\n\t\tallCheck() {\n\n\t\t\tthis.isCheckAll = !this.isCheckAll;\n\t\t\tthis.isCheckAll ?\n\t\t\t\tthis.cart.forEach((proItem) => {\n\t\t\t\t\tif (!proItem.isChecked) {\n\t\t\t\t\t\tthis._checkTrue(proItem)\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tthis.cart.forEach((proItem) => {\n\t\t\t\t\tif (proItem.isChecked) {\n\t\t\t\t\t\tthis._checkFalse(proItem)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t_checkTrue(item) {\n\t\t\titem.isChecked = true;\n\t\t\tthis.totalamount = this.totalamount + item.price * item.num;\n\t\t\tthis.totalamount = this.fmamount(this.totalamount);\n\t\t\t++this.checkedCount == this.cart.length ? this.isCheckAll = true : this.isCheckAll = false\n\t\t},\n\t\t_checkFalse(item) {\n\n\t\t\titem.isChecked = false;\n\t\t\tthis.cntitems = this.cntitems - item.num;\n\t\t\t// 更新总金额\n\t\t\tthis.totalamount = this.totalamount - item.price * item.num;\n\t\t\tthis.totalamount = this.fmamount(this.totalamount);\n\t\t\t--this.checkedCount;\n\t\t\tthis.isCheckAll = false;\n\t\t},\n\t\t// 点击勾选\n\t\tclickitemselected(item) {\n\t\t\titem.isChecked ? this._checkFalse(item) : this._checkTrue(item)\n\t\t},\n\t\t// 减数量\n\t\tminusitem(item) {\n\t\t\tif (item.num == 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t--item.num;\n\t\t\tif (item.isChecked) {\n\t\t\t\t// 更新总数量\n\t\t\t\tthis.updatecntitems(-1);\n\t\t\t\t// 更新总金额\n\t\t\t\tthis.updatetotalamt(-item.price);\n\t\t\t}\n\t\t},\n\t\t// 加数量\n\t\tplusitem(item) {\n\t\t\tif (item.num == 99) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t++item.num;\n\t\t\t// 勾选状态下更新数量和金额\n\t\t\tif (item.isChecked) {\n\t\t\t\t// 更新总数量\n\t\t\t\tthis.updatecntitems(1);\n\t\t\t\t// 更新总金额\n\t\t\t\tthis.updatetotalamt(item.price);\n\t\t\t}\n\t\t},\n\t\t// 点击删除\n\t\tclickdel(item) {\n\t\t\tuni.showModal({\n\t\t\t\t// title: '提示',\n\t\t\t\tcontent: '确定要删除该商品吗？',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tif (item.isChecked) {\n\t\t\t\t\t\t\tthis.cntitems = this.cntitems - item.num;\n\t\t\t\t\t\t\t// 更新总金额\n\t\t\t\t\t\t\tthis.totalamount = this.totalamount - item.price * item.num;\n\t\t\t\t\t\t\tthis.totalamount = this.fmamount(this.totalamount);\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.num = -1;\n\t\t\t\t\t\tthis.setCartGoods();\n\t\t\t\t\t\t// 删除购物车商品时 更新合计金额\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t// console.log('用户点击取消');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 更新合计金额\n\t\tupdatetotalamt(amt) {\n\t\t\tthis.totalamount = this.totalamount + amt;\n\t\t\tthis.totalamount = this.fmamount(this.totalamount);\n\t\t},\n\t\t// 更新合计数量\n\t\tupdatecntitems(cnt) {\n\t\t\tthis.cntitems = this.cntitems + 1;\n\t\t},\n\t\t// 格式化金额\n\t\tfmamount(amt) {\n\t\t\treturn Math.round(amt * 100) / 100;\n\t\t},\n\t\t_selectGoods(item) {\n\t\t\tthis.selectGoods = [];\n\t\t\tthis.cart.forEach(item => {\n\t\t\t\tif (item.isChecked) {\n\t\t\t\t\tthis.selectGoods.push(item)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}\n};\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", [\n    _c(\n      \"view\",\n      { staticClass: \"cart\" },\n      _vm._l(_vm.cart, function(goodsItem, goodsIndex) {\n        return _c(\"block\", { key: goodsIndex }, [\n          goodsItem.num > 0\n            ? _c(\"view\", { staticClass: \"cart-item\" }, [\n                _c(\n                  \"view\",\n                  { staticClass: \"chose\" },\n                  [\n                    _c(\"checkbox\", {\n                      attrs: {\n                        checked: goodsItem.isChecked,\n                        eventid: \"14982175-0-\" + goodsIndex\n                      },\n                      on: {\n                        click: function($event) {\n                          _vm.clickitemselected(goodsItem)\n                        }\n                      }\n                    })\n                  ],\n                  1\n                ),\n                _c(\"view\", { staticClass: \"image\" }, [\n                  _c(\"image\", {\n                    staticClass: \"img\",\n                    attrs: { src: goodsItem.image }\n                  })\n                ]),\n                _c(\n                  \"view\",\n                  { staticClass: \"attrs\" },\n                  [\n                    _c(\n                      \"navigator\",\n                      {\n                        staticClass: \"title\",\n                        attrs: {\n                          \"hover-class\": \"none\",\n                          url:\n                            \"/pages/goods/goods_detail?goods_id=\" +\n                            goodsItem.goods_id\n                        }\n                      },\n                      [_vm._v(_vm._s(goodsItem.goods_name))]\n                    ),\n                    _c(\"view\", { staticClass: \"attr\" }, [\n                      _vm._v(\"属性:\" + _vm._s(goodsItem.attr))\n                    ]),\n                    _c(\"view\", { staticClass: \"num\" }, [\n                      _c(\n                        \"view\",\n                        {\n                          staticClass: \"num-minus\",\n                          attrs: { eventid: \"14982175-1-\" + goodsIndex },\n                          on: {\n                            click: function($event) {\n                              _vm.minusitem(goodsItem)\n                            }\n                          }\n                        },\n                        [_vm._v(\"-\")]\n                      ),\n                      _c(\"view\", { staticClass: \"num-quantity\" }, [\n                        _vm._v(_vm._s(goodsItem.num))\n                      ]),\n                      _c(\n                        \"view\",\n                        {\n                          staticClass: \"num-plus\",\n                          attrs: { eventid: \"14982175-2-\" + goodsIndex },\n                          on: {\n                            click: function($event) {\n                              _vm.plusitem(goodsItem)\n                            }\n                          }\n                        },\n                        [_vm._v(\"+\")]\n                      )\n                    ])\n                  ],\n                  1\n                ),\n                _c(\"view\", { staticClass: \"action\" }, [\n                  _c(\"view\", { staticClass: \"price\" }, [\n                    _vm._v(\"￥\" + _vm._s(goodsItem.price))\n                  ]),\n                  _c(\"view\", { staticClass: \"del_price\" }, [\n                    _vm._v(\"￥\" + _vm._s(goodsItem.market_price))\n                  ]),\n                  _c(\n                    \"view\",\n                    {\n                      staticClass: \"del\",\n                      attrs: { eventid: \"14982175-3-\" + goodsIndex },\n                      on: {\n                        click: function($event) {\n                          _vm.clickdel(goodsItem)\n                        }\n                      }\n                    },\n                    [\n                      _c(\n                        \"span\",\n                        {\n                          staticClass: \"iconfont\",\n                          staticStyle: { \"font-size\": \"52rpx\", color: \"#999\" }\n                        },\n                        [_vm._v(\"\")]\n                      )\n                    ]\n                  )\n                ])\n              ])\n            : _vm._e()\n        ])\n      })\n    ),\n    _vm.cart.length == 0\n      ? _c(\"view\", { staticStyle: { width: \"100%\", \"text-align\": \"center\" } }, [\n          _c(\"image\", {\n            attrs: { mode: \"widthFix\", src: \"../../static/images/cart.jpg\" }\n          })\n        ])\n      : _vm._e(),\n    _c(\"view\", { staticClass: \"total\" }, [\n      _c(\n        \"view\",\n        { staticClass: \"chose-all\" },\n        [\n          _c(\"checkbox\", {\n            attrs: {\n              value: \"all\",\n              checked: _vm.isCheckAll,\n              eventid: \"14982175-4\"\n            },\n            on: { click: _vm.allCheck }\n          }),\n          _c(\"text\", { staticStyle: { \"padding-left\": \"20rpx\" } }, [\n            _vm._v(\"全选\")\n          ])\n        ],\n        1\n      ),\n      _c(\"view\", { staticClass: \"price\" }, [\n        _vm._v(\"合计：￥\" + _vm._s(_vm.totalamount))\n      ]),\n      _c(\n        \"view\",\n        { staticClass: \"submit\" },\n        [\n          _c(\n            \"button\",\n            {\n              staticClass: \"btn\",\n              attrs: { eventid: \"14982175-5\" },\n              on: { click: _vm.goFirm }\n            },\n            [_vm._v(\"结算\")]\n          )\n        ],\n        1\n      )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}