(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"16ff":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,s=o("5c06"),n={data:function(){return{phones:"",code:"",getCode:"",password:"",confirmPassword:"",btntxt:"获取验证码",time:0,disabled:!1}},onShow:function(){this.getShop()},methods:{getShop:function(){i=t.getStorageSync("locationShop"),void 0==i.id&&t.request({url:this.apiUrl+"shop/getShopInfo",method:"GET",data:{default:1},success:function(e){0==e.data.code&&(i=e.data.data,t.setStorageSync("locationShop",i))},fail:function(){},complete:function(){}})},submit:function(e){var o=[{name:"phones",checkType:"phoneno",checkRule:"11",errorMsg:"请输入正确手机号格式"},{name:"password",checkType:"password",checkRule:"6,8",errorMsg:"请输入包含数字和英文字母的密码或密码长度大于6位"}],n=e.detail.value,a=s.check(n,o);return this.code!=this.getCode?(t.showToast({title:"验证码输入错误",icon:"none"}),!1):this.password!=this.confirmPassword?(t.showToast({title:"两次密码不一致",icon:"none"}),!1):void(a?t.request({url:this.apiUrl+"login/register",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{mobile:this.phones,password:this.password,confirm_password:this.confirmPassword,shop_id:i.id,referee:t.getStorageSync("referee")},success:function(e){0==e.data.code&&t.showToast({title:"注册成功",icon:"none",success:function(e){setTimeout(function(){t.redirectTo({url:"../login/login"})},500)}})},fail:function(){},complete:function(){}}):t.showToast({title:s.error,icon:"none"}))},Getcode:function(){var e=this;this.time=60,t.request({url:this.apiUrl+"user/getCode",method:"GET",data:{mobile:this.phones,type:1},success:function(o){0==o.data.code?(t.showToast({title:"已发送，请注意查收信息",icon:"none"}),console.log(o.data.data.code),e.getCode=o.data.data.code,e.disabled=!0,e.timer()):t.showToast({title:o.data.msg,icon:"none"})},fail:function(){console.log("fail")}})},timer:function(){this.time>0?(this.time--,this.btntxt=this.time+"S后获取",setTimeout(this.timer,1e3)):(this.time=0,this.btntxt="获取验证码",this.disabled=!1)}}};e.default=n}).call(this,o("6e42")["default"])},"3c6b":function(t,e,o){"use strict";var i=o("4800"),s=o.n(i);s.a},4800:function(t,e,o){},6309:function(t,e,o){"use strict";o.r(e);var i=o("c758"),s=o("f6ce");for(var n in s)"default"!==n&&function(t){o.d(e,t,function(){return s[t]})}(n);o("3c6b");var a=o("2877"),r=Object(a["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},c758:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",[o("view",{staticClass:"uni-padding-wrap ",staticStyle:{background:"#fff",height:"100vh"}},[o("view",{staticClass:"static"}),o("form",{attrs:{eventid:"00209655-5"},on:{submit:t.submit}},[o("view",{staticClass:"from-logo"},[o("image",{attrs:{src:"http://static.lamamuying.com/static/images/login_r1_c1.jpg",mode:"widthFix"}})]),o("view",{staticClass:"from-column",staticStyle:{"padding-top":"30rpx"}},[o("view",{staticClass:"uni-form-item uni-row ",staticStyle:{"margin-top":"0"}},[o("span",{staticClass:"iconfont login-icon"},[t._v("")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.phones,expression:"phones"}],staticClass:"uni-input",attrs:{name:"phones",placeholder:"请输入手机号",eventid:"00209655-0"},domProps:{value:t.phones},on:{input:function(e){e.target.composing||(t.phones=e.target.value)}}})]),o("view",{staticClass:"uni-row phone_ma"},[o("view",{staticClass:"mobile-code"},[o("span",{staticClass:"iconfont login-icon"},[t._v("")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"uni-input",attrs:{name:"code",placeholder:"请输入手机验证码",eventid:"00209655-1"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),o("button",{staticClass:"get",attrs:{type:"primary",disabled:t.disabled,eventid:"00209655-2"},on:{click:function(e){t.Getcode()}}},[t._v(t._s(t.btntxt))])],1),o("view",{staticClass:"uni-form-item uni-row"},[o("span",{staticClass:"iconfont login-icon"},[t._v("")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"uni-input",attrs:{password:"",type:"text",name:"password",placeholder:"请输入密码",eventid:"00209655-3"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),o("view",{staticClass:"uni-form-item uni-row"},[o("span",{staticClass:"iconfont login-icon"},[t._v("")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"uni-input",attrs:{password:"",type:"text",name:"password",placeholder:"请再次输入密码",eventid:"00209655-4"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),o("view",{staticClass:"uni-btn-v"},[o("button",{attrs:{formType:"submit"}},[t._v("注册")])],1),o("view",{staticStyle:{"text-align":"right","padding-right":"4%",height:"40rpx"}},[t._v("已有账号"),o("navigator",{staticStyle:{color:"#FF4965",display:"inline-block","padding-left":"10rpx"},attrs:{url:"../login/login?title=login","hover-class":"none"}},[o("text",{attrs:{type:"default"}},[t._v("快速登录")])])],1),o("view",{staticStyle:{"background-color":"#fff",height:"50rpx"}})])])],1)])},s=[];o.d(e,"a",function(){return i}),o.d(e,"b",function(){return s})},f6ce:function(t,e,o){"use strict";o.r(e);var i=o("16ff"),s=o.n(i);for(var n in i)"default"!==n&&function(t){o.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},f970:function(t,e,o){"use strict";o("1db4");var i=n(o("b0ce")),s=n(o("6309"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))}},[["f970","common/runtime","common/vendor"]]]);