(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{3348:function(t,e,n){"use strict";n.r(e);var a=n("edcb"),o=n("dad7");for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);n("af7c");var s=n("2877"),c=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"42b9":function(t,e,n){"use strict";(function(t){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{oauthUserInfo:{}}},onLoad:function(t){n=t,n.backpage&&(n.backpage=decodeURIComponent(n.backpage))},onShow:function(){},methods:{loginSubmit:function(e){t.showLoading({title:"登录中...",mask:!1}),t.request({url:this.apiUrl+"login/login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{phone:e.detail.value.phone,password:e.detail.value.password},success:function(e){t.hideLoading(),0==e.data.code?(t.setStorageSync("userLoginInfo",e.data.data),t.setStorageSync("locationShop",e.data.data.shop),t.showToast({title:"登录成功",icon:"none"}),void 0===n.backpage&&t.reLaunch({url:"../mine/mine"}),n.backtype,t.reLaunch({url:n.backpage})):t.showToast({title:"用户名密码错误",icon:"none"})},fail:function(){},complete:function(){}})},bindMpOpenid:function(e){var n=this;t.login({success:function(a){t.request({url:n.apiUrl+"login/bindMpOpenid",method:"GET",data:{code:a.code,phone:e},success:function(t){if(0==t.data.code)return t.data.data.openid},fail:function(){},complete:function(){}})}})},getuserappinfo:function(){var e=this,a=t.getStorageSync("locationShop"),o=t.getStorageSync("referee");t.login({provider:"weixin",success:function(i){t.request({url:e.apiUrl+"login/getAppWechatToken",method:"GET",data:{openid:i.authResult.openid,shop_id:a.id,access_token:i.authResult.access_token,unionid:i.authResult.unionid,referee:o},success:function(e){0==e.data.code?(t.setStorageSync("userLoginInfo",e.data.data),t.setStorageSync("locationShop",e.data.data.shop),t.showToast({title:"登录成功",icon:"none"}),void 0===n.backpage&&t.reLaunch({url:"../mine/mine"}),n.backtype,t.reLaunch({url:n.backpage})):t.showToast({title:"登陆失败",icon:"none"})},fail:function(){},complete:function(){}})}})},loginThree:function(){}}};e.default=a}).call(this,n("6e42")["default"])},7292:function(t,e,n){"use strict";n("1db4");var a=i(n("b0ce")),o=i(n("3348"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(o.default))},af7c:function(t,e,n){"use strict";var a=n("b9d7"),o=n.n(a);o.a},b9d7:function(t,e,n){},dad7:function(t,e,n){"use strict";n.r(e);var a=n("42b9"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e["default"]=o.a},edcb:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticStyle:{background:"#fff",height:"100vh"}},[n("view",{staticClass:"static"}),n("form",{staticClass:"login-from",attrs:{eventid:"7f776b89-1"},on:{submit:t.loginSubmit}},[n("view",{staticClass:"from-logo"},[n("image",{attrs:{src:"http://static.lamamuying.com/static/images/login_r1_c1.jpg",mode:"widthFix"}})]),n("view",{staticClass:"from-column"},[n("view",{staticClass:"uni-form-item uni-row"},[n("span",{staticClass:"iconfont login-icon"},[t._v("")]),n("input",{staticClass:"uni-input",attrs:{name:"phone",type:"number",placeholder:"请输入您的账号"}})]),n("view",{staticClass:"uni-form-item uni-row"},[n("span",{staticClass:"iconfont login-icon"},[t._v("")]),n("input",{staticClass:"uni-input",attrs:{password:"",type:"text",name:"password",placeholder:"请输入您的密码"}})]),n("view",{staticClass:"rember"},[n("navigator",{attrs:{url:"../password_change/password_forget","hover-class":"none"}},[n("text",{staticStyle:{color:"#FF4965"}},[t._v("忘记密码？")])]),n("navigator",{attrs:{url:"../register/register","hover-class":"none"}},[n("text",{staticStyle:{color:"grey"}},[t._v("还没有账号？"),n("text",{staticStyle:{color:"#FF4965"}},[t._v("去注册")])])])],1),n("view",{staticClass:"uni-btn-v"},[n("button",{attrs:{formType:"submit"}},[t._v("登录")])],1),n("view",{staticStyle:{"margin-top":"20rpx",width:"100%",display:"flex","flex-direction":"column","justify-content":"center","text-align":"center"}},[n("view",{staticClass:"login-wx"},[n("span",{staticClass:"solid"}),n("view",{staticClass:"three"},[t._v("第三方登录")])]),n("view",{staticClass:"login-three"},[n("view",{staticClass:"wx-button",attrs:{eventid:"7f776b89-0"},on:{click:t.getuserappinfo}})])])])])],1)},o=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o})}},[["7292","common/runtime","common/vendor"]]]);