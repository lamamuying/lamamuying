(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/personal_data"],{"28c8":function(t,e,a){"use strict";a("1db4");var s=n(a("b0ce")),i=n(a("5426"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},"4eec":function(t,e,a){},5426:function(t,e,a){"use strict";a.r(e);var s=a("7f96"),i=a("bb9a");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("e7ed");var o=a("2877"),c=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=c.exports},"588b":function(t,e,a){"use strict";(function(t){var a;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{personMessage:[],isuser:!1,nickname:"",photo:"",disabled:!0,iptoto:"http://static.lamamuying.com/static/images/face.png"}},onShow:function(){a=this.userLoginInfo("../mine/mine",2),a.photo?this.disabled=!0:this.disabled=!1,this.getPersonal()},methods:{getPersonal:function(){var e=this;t.request({url:this.apiUrl+"user/getUser",method:"GET",data:{uid:a.id},success:function(t){0===t.data.code&&(e.personMessage=t.data.data)},fail:function(){},complete:function(){}})},blu:function(t){this.nickname=t.detail.value,this.personMessage.photo?this.photo=this.personMessage.photo:this.photo=this.iptoto,this.hold()},upload:function(){var e=this;this,t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(a){var s=a.tempFilePaths;t.uploadFile({url:e.apiUrl+"user/uploadHeader",filePath:s[0],name:"file",formData:{user:"test"},success:function(t){var a=JSON.parse(t.data);0==a.code&&(e.photo=a.data,e.personMessage.nickname?e.nickname=e.personMessage.nickname:e.nickname="暂无用户名",e.hold())}})},error:function(t){},complete:function(){}})},hold:function(){var e=this;t.request({url:this.apiUrl+"user/saveUser",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{id:a.id,nickname:this.nickname,photo:this.photo},success:function(t){0===t.data.code&&e.getPersonal()},fail:function(){},complete:function(){}})}},onLoad:function(){}};e.default=s}).call(this,a("6e42")["default"])},"7f96":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"uni-flex uni-column contain"},[a("view",{staticClass:"flex-item  uni-row"},[a("text",{attrs:{type:"default"}},[t._v("头像")]),t.personMessage.phone?a("view",{staticClass:"uni-row logo",attrs:{eventid:"0e915087-0"},on:{click:t.upload}},[t.personMessage.photo?a("image",{staticClass:"peason",attrs:{src:t.personMessage.photo,mode:"scaleToFill"}}):a("image",{staticClass:"peason",attrs:{src:"http://static.lamamuying.com/static/images/face.png",mode:"scaleToFill"}})]):a("view",{staticClass:"uni-row logo"},[t.personMessage.photo?a("image",{staticClass:"peason",attrs:{src:t.personMessage.photo,mode:"scaleToFill"}}):a("image",{staticClass:"peason",attrs:{src:"http://static.lamamuying.com/static/images/face.png",mode:"scaleToFill"}})])]),a("view",{staticClass:"flex-item  uni-row item-name"},[a("text",{attrs:{type:"default"}},[t._v("会员名")]),a("view",{staticClass:"uni-row logo"},[t.personMessage.nickname?a("input",{staticClass:"name",attrs:{value:t.personMessage.nickname,disabled:t.disabled,eventid:"0e915087-2"},on:{blur:t.blu}}):a("input",{staticClass:"name",attrs:{value:"暂无用户名",disabled:t.disabled,eventid:"0e915087-1"},on:{blur:t.blu}}),a("image",{staticClass:"right",attrs:{src:"http://static.lamamuying.com/static/images/jiantou.png",mode:""}})])]),a("view",{staticClass:"flex-item  uni-row",attrs:{eventid:"0e915087-3"},on:{click:t.phoneChange}},[a("text",{attrs:{type:"default"}},[t._v("手机号")]),a("view",{staticClass:"uni-row logo"},[a("input",{staticClass:"name",attrs:{disabled:"",value:t.personMessage.phone}}),a("image",{staticClass:"right",attrs:{src:"http://static.lamamuying.com/static/images/jiantou.png",mode:""}})])])])])},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},bb9a:function(t,e,a){"use strict";a.r(e);var s=a("588b"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},e7ed:function(t,e,a){"use strict";var s=a("4eec"),i=a.n(s);i.a}},[["28c8","common/runtime","common/vendor"]]]);