(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/collection_management"],{"0d13":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,n=a(i("0a5a")),o=a(i("9cd9")),c=a(i("343a"));function a(t){return t&&t.__esModule?t:{default:t}}var l={components:{uniSegmentedControl:n.default,collectionList:o.default,uniLoadMore:c.default},data:function(){return{isCheckAll:!1,loadingType:1,showLoadMore:!1,items:[{name:"宝贝收藏",type:1},{name:"内容收藏",type:0}],current:0,goodsList:[],type:1,page:1,uid:0}},onShow:function(){this.getLikeGoodsList()},onLoad:function(){s=this.userLoginInfo("../collection/collection_management",1),this.uid=s.id,this.goodsList=[],this.loadMoreText="加载更多",this.showLoadMore=!1},onReachBottom:function(){this.getLikeGoodsList()},methods:{goBack:function(){t.navigateBack({delta:1})},onClickItem:function(t){this.current!==t.index&&(this.current=t.index,this.type=t.type,this.goodsList=[],this.page=1,this.getLikeGoodsList())},getLikeGoodsList:function(){var e=this;t.request({url:this.apiUrl+"user/getCollect",method:"GET",data:{uid:s.id,type:this.type,page:this.page},success:function(t){if(0===t.data.code){if(Array.isArray(t.data.data)&&0===t.data.data.length)return void(e.loadingType=2);t.data.data.length<10&&(e.loadingType=2),e.showLoadMore=!0,e.page++;var i=[];t.data.data.forEach(function(t){i.push(t)}),e.goodsList=e.goodsList.concat(i)}}})},allCheck:function(){var t=this;this.isCheckAll=!this.isCheckAll,this.isCheckAll?this.shopData.forEach(function(e){t._shopTrue(e)}):this.shopData.forEach(function(e){t._shopFalse(e)})}}};e.default=l}).call(this,i("6e42")["default"])},"180e":function(t,e,i){"use strict";i.r(e);var s=i("0d13"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},"193a":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"collectionList",props:{goodsList:Array,type:Number,uid:Number},data:function(){return{isCheckAll:!1,checkedCount:0}},methods:{allCheck:function(){var t=this;this.isCheckAll=!this.isCheckAll,this.isCheckAll?this.goodsList.forEach(function(e){t._checkTrue(e)}):this.goodsList.forEach(function(e){t._checkFalse(e)})},_checkTrue:function(t){t.isChecked=!0,++this.checkedCount==this.goodsList.length?this.isCheckAll=!0:this.isCheckAll=!1},_checkFalse:function(t){t.isChecked=!1,--this.checkedCount,this.isCheckAll=!1},onLoad:function(){},getCheckData:function(e){var i=[];this.goodsList.forEach(function(t){t.isChecked&&i.push(t.id)}),console.log(this.type),console.log(i),console.log(this.uid),t.request({url:this.apiUrl+"user/delCollect",method:"GET",data:{uid:this.uid,ids:i,type:this.type},success:function(t){console.log(t.data),t.data.code}})}}};e.default=i}).call(this,i("6e42")["default"])},"262c":function(t,e,i){},"267c":function(t,e,i){},"5acf":function(t,e,i){"use strict";i("1db4");var s=o(i("b0ce")),n=o(i("9800"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(n.default))},"632b":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"Menubox63"},[i("view",{staticClass:"uni-padding-wrap uni-common-mt"},[i("uni-segmented-control",{staticClass:"uni-content",attrs:{current:t.current,values:t.items,eventid:"b4e98e7c-0",mpcomid:"b4e98e7c-0"},on:{clickItem:t.onClickItem}})],1),i("view",{attrs:{eventid:"b4e98e7c-1"},on:{click:function(e){t.goBack()}}},[i("span",{staticClass:"iconfont management",staticStyle:{"font-size":"54rpx"}},[t._v("")])])]),i("view",{staticClass:"Contentbox63"},[i("view",{staticClass:"content"},[i("view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}],staticClass:"content_show"},[i("collection-List",{attrs:{goodsList:t.goodsList,uid:t.uid,type:1,mpcomid:"b4e98e7c-1"}})],1),i("view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}]},[i("collection-List",{attrs:{goodsList:t.goodsList,uid:t.uid,type:0,mpcomid:"b4e98e7c-2"}})],1)]),i("uni-load-more",{staticStyle:{"margin-top":"100rpx"},attrs:{color:"#333",loadingType:t.loadingType,contentText:t.contentText,mpcomid:"b4e98e7c-3"}}),i("view",{staticStyle:{height:"60px"}})],1)])},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},6756:function(t,e,i){"use strict";var s=i("262c"),n=i.n(s);n.a},7536:function(t,e,i){"use strict";i.r(e);var s=i("193a"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},9800:function(t,e,i){"use strict";i.r(e);var s=i("632b"),n=i("180e");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("e36f");var c=i("2877"),a=Object(c["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},"9cd9":function(t,e,i){"use strict";i.r(e);var s=i("bbfe"),n=i("7536");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("6756");var c=i("2877"),a=Object(c["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},bbfe:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"uni-list"},t._l(t.goodsList,function(e,s){return i("view",{key:s,staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("checkbox",{attrs:{checked:e.isChecked,eventid:"a4f750f4-0-"+s},on:{click:function(i){e.isChecked?t._checkFalse(e):t._checkTrue(e)}}}),i("view",{staticClass:"uni-media-list"},[i("image",{staticClass:"uni-media-list-logo",attrs:{src:e.image}}),i("view",{staticClass:"uni-media-list-body"},[1==t.type?i("view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(e.name))]):t._e(),0==t.type?i("view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(e.title))]):t._e(),i("view",{staticClass:"uni-media-list-text-bottom"},[1==t.type?i("text",{staticStyle:{color:"#FF4965","font-size":"28rpx"}},[t._v(t._s(e.price))]):t._e(),i("text",{staticClass:"comment"},[t._v(t._s(e.comment))])])])])],1)})),i("view",{staticClass:"bg_glx"},[i("checkbox",{attrs:{value:"all",checked:t.isCheckAll,eventid:"a4f750f4-1"},on:{click:t.allCheck}}),i("text",{staticStyle:{"padding-left":"20rpx"}},[t._v("全选")]),i("button",{staticClass:"delete",attrs:{eventid:"a4f750f4-2"},on:{click:function(e){t.getCheckData(t.type)}}},[t._v("删除")])],1)])},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},e36f:function(t,e,i){"use strict";var s=i("267c"),n=i.n(s);n.a}},[["5acf","common/runtime","common/vendor"]]]);